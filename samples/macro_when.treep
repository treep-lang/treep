// when macro: if without else branch
// Usage: when(condition) { body }

macro when {
  pattern: when($cond) { $body }
  expand: {
    if (cond) {
      body
    }
  }
}

def test() returns: Unit {
  let x = 5

  when(x > 0) {
    println("x is positive")
  }

  when(x == 5) {
    println("x equals 5")
  }
}

def main() returns: Unit {
  println("=== when macro demo ===")
  test()
}
